$(document).ready(function () { if (firebase.initializeApp({ apiKey: "AIzaSyByHflVSt-95YP4yWECkiK6vLGTguS7KFU", authDomain: "future-force-270416.firebaseapp.com", databaseURL: "https://future-force-270416.firebaseio.com", projectId: "future-force-270416", storageBucket: "future-force-270416.appspot.com", messagingSenderId: "397427626203", appId: "1:397427626203:web:e353a58a74c91413f6bcfe", measurementId: "G-H126PY4SSJ" }), firebase.analytics(), "/sell" === window.location.pathname) { var e = document.getElementById("mainPictureButton"), o = document.getElementById("uploader"); e.addEventListener("change", function (e) { console.log(e.target.files[0].name); var a = e.target.files[0], t = firebase.storage().ref("images/" + a.name).put(a); t.on("state_changed", function (e) { var a = e.bytesTransferred / e.totalBytes * 100; o.value = a }, function (e) { throw e }, function () { return t.snapshot.ref.getDownloadURL().then(function (e) { console.log(e), n = e }), n }) }) } var n = ""; $("#newLaptop").on("submit", function (e) { e.preventDefault(), "" === n && (n = "/assets/images/laptop-placeholder.png", console.log("No Image Uploaded")), console.log(n); var a = { name: $("#name").val().trim(), email: $("#email").val().trim(), phone: $("#number").val().trim(), city: $("#city").val().trim(), brand: $("#brand").val().trim(), model: $("#model").val().trim(), operating_system: $("#os").val().trim(), laptop_condition: $("#condition").val(), processor: $("#processor").val().trim(), graphics: $("#graphics").val().trim(), ram: $("#ram").val().trim(), screen_dimension: $("#screen").val().trim(), hd_storage: $("#storage").val().trim(), release_year: $("#year").val().trim(), summary: $("#summary").val().trim(), price: $("#price").val().trim(), main_photo: n }; $.ajax("/api/laptops", { type: "POST", data: a }).then(function () { console.log("New Laptop has been added to the inventory"), n = "", location.assign("/") }), console.log(a) }), $(".soldButton").click(function () { var e = $(this).data("id"); console.log("Laptop ID is " + e), $.ajax("/api/laptops/" + e, { type: "DELETE" }).then(function () { console.log("Laptop has been sold!"), location.reload() }) }) });